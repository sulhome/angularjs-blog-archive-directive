!function(){"use strict";function e(e){return{template:e.get("blogArchive.tpl.html"),scope:{blogs:"=blogs"},replace:!0,controller:["$scope","_",function(e,r){e.setupBlogs=function(){var a=0;e.archive=[];var l=r.groupBy(e.blogs,function(e){return new Date(e.dateCreated).getFullYear()});for(var o in l)e.archive.push({yearName:o,yearTotalBlogs:l[o].length,months:n(l[o])}),a+=l[o].length;e.archive.reverse(),e.totalBlogs=a};var n=function(e){var n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],a=[],l=r.groupBy(e,function(e){return n[new Date(e.dateCreated).getMonth()]});for(var o in l)a.push({monthName:o,monthBlogs:l[o]});return a};e.toggleDisplay=function(e){var r=document.getElementById(e),n=r.style.display;r.style.display="block"==n?"none":"block"}}],link:function(e,r,n){e.setupBlogs()}}}angular.module("blogArchiveModuleTpl",[]).run(["$templateCache",function(e){e.put("blogArchive.tpl.html",'<div class="panel panel-primary blog-archive-panel">\r\n    <div class="panel-heading blog-archive-panel-heading">\r\n        <h3 class="panel-title blog-archive-panel-title">\r\n            Archive <span class="badge">{{totalBlogs}}</span>\r\n        </h3>\r\n    </div>\r\n    <div class="panel-body blog-archive-panel-body">\r\n        <ul>\r\n            <li ng-repeat="yearGroup in archive">\r\n                <div class="yearGroup" ng-click="toggleDisplay(\'arch_\' + yearGroup.yearName)">\r\n                    {{yearGroup.yearName}} <span class="badge">{{yearGroup.yearTotalBlogs}}</span>\r\n                </div>\r\n\r\n                <ul style="display:none;" id="arch_{{yearGroup.yearName}}">\r\n                    <li ng-repeat="monthGroup in yearGroup.months">\r\n\r\n                        <div class="monthGroup" ng-click="toggleDisplay(\'arch_\' + yearGroup.yearName + \'_\' + monthGroup.monthName)">\r\n                            {{monthGroup.monthName}} <span class="badge">{{monthGroup.monthBlogs.length}}</span>\r\n                        </div>\r\n\r\n                        <ul style="display:none;" id="arch_{{yearGroup.yearName}}_{{monthGroup.monthName}}">\r\n                            <li>\r\n                                <a ng-repeat="blog in monthGroup.monthBlogs" href="{{blog.url}}">{{blog.title}}</a>\r\n                            </li>\r\n                        </ul>\r\n                    </li>\r\n                </ul>\r\n\r\n            </li>\r\n        </ul>\r\n    </div>\r\n</div>')}]);var r=angular.module("underscore",[]);r.factory("_",function(){return window._});var n=angular.module("blogArchiveModule",["underscore","blogArchiveModuleTpl"]);n.directive("blogArchive",e),e.$inject=["$templateCache"]}();